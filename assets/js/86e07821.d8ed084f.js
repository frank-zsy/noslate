"use strict";(self.webpackChunknoslate_website=self.webpackChunknoslate_website||[]).push([[4023],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>c});var l=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,l,a=function(e,n){if(null==e)return{};var t,l,a={},r=Object.keys(e);for(l=0;l<r.length;l++)t=r[l],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)t=r[l],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var i=l.createContext({}),p=function(e){var n=l.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):d(d({},n),e)),t},u=function(e){var n=p(e.components);return l.createElement(i.Provider,{value:n},e.children)},s={inlineCode:"code",wrapper:function(e){var n=e.children;return l.createElement(l.Fragment,{},n)}},b=l.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,i=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),b=p(t),c=a,g=b["".concat(i,".").concat(c)]||b[c]||s[c]||r;return t?l.createElement(g,d(d({ref:n},u),{},{components:t})):l.createElement(g,d({ref:n},u))}));function c(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,d=new Array(r);d[0]=b;var o={};for(var i in n)hasOwnProperty.call(n,i)&&(o[i]=n[i]);o.originalType=e,o.mdxType="string"==typeof e?e:a,d[1]=o;for(var p=2;p<r;p++)d[p]=t[p];return l.createElement.apply(null,d)}return l.createElement.apply(null,t)}b.displayName="MDXCreateElement"},3017:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>d,default:()=>s,frontMatter:()=>r,metadata:()=>o,toc:()=>p});var l=t(7462),a=(t(7294),t(3905));const r={},d="\u4f7f\u7528 Linux \u8c03\u8bd5",o={unversionedId:"debugger/andb/env_linux",id:"debugger/andb/env_linux",title:"\u4f7f\u7528 Linux \u8c03\u8bd5",description:"\u7cfb\u7edf\u4f9d\u8d56",source:"@site/docs/debugger/andb/env_linux.md",sourceDirName:"debugger/andb",slug:"/debugger/andb/env_linux",permalink:"/docs/debugger/andb/env_linux",draft:!1,editUrl:"https://github.com/noslate-project/noslate/tree/main/site/docs/debugger/andb/env_linux.md",tags:[],version:"current",frontMatter:{},sidebar:"debugger",previous:{title:"Andb",permalink:"/docs/debugger/andb/intro"},next:{title:"\u4f7f\u7528 MacOS \u8c03\u8bd5",permalink:"/docs/debugger/andb/env_macos"}},i={},p=[{value:"\u7cfb\u7edf\u4f9d\u8d56",id:"\u7cfb\u7edf\u4f9d\u8d56",level:2},{value:"gdb \u7248\u672c\u83b7\u53d6\u65b9\u6cd5",id:"gdb-\u7248\u672c\u83b7\u53d6\u65b9\u6cd5",level:3},{value:"lldb \u7248\u672c",id:"lldb-\u7248\u672c",level:3},{value:"\u51c6\u5907\u8c03\u8bd5\u73af\u5883",id:"\u51c6\u5907\u8c03\u8bd5\u73af\u5883",level:2},{value:"\u8bbe\u7f6e gdb \u8c03\u8bd5\u73af\u5883",id:"\u8bbe\u7f6e-gdb-\u8c03\u8bd5\u73af\u5883",level:3},{value:"\u4f7f\u7528\u9884\u7f16\u8bd1\u7684 andb-gdb",id:"\u4f7f\u7528\u9884\u7f16\u8bd1\u7684-andb-gdb",level:2},{value:"CentOS 7",id:"centos-7",level:4},{value:"\u8bbe\u7f6e lldb \u8c03\u8bd5\u73af\u5883",id:"\u8bbe\u7f6e-lldb-\u8c03\u8bd5\u73af\u5883",level:3},{value:"CentOS 7",id:"centos-7-1",level:4},{value:"\u914d\u7f6e\u5de5\u5177",id:"\u914d\u7f6e\u5de5\u5177",level:2},{value:"\u4e00\u822c\u6027\u8c03\u8bd5",id:"\u4e00\u822c\u6027\u8c03\u8bd5",level:2},{value:"\u624b\u52a8\u8c03\u5f0f\u65b9\u6cd5",id:"\u624b\u52a8\u8c03\u5f0f\u65b9\u6cd5",level:2}],u={toc:p};function s(e){let{components:n,...t}=e;return(0,a.kt)("wrapper",(0,l.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"\u4f7f\u7528-linux-\u8c03\u8bd5"},"\u4f7f\u7528 Linux \u8c03\u8bd5"),(0,a.kt)("h2",{id:"\u7cfb\u7edf\u4f9d\u8d56"},"\u7cfb\u7edf\u4f9d\u8d56"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Python 2 or 3 "),(0,a.kt)("li",{parentName:"ul"},"GDB 8.3+"),(0,a.kt)("li",{parentName:"ul"},"LLDB 7.0+")),(0,a.kt)("h3",{id:"gdb-\u7248\u672c\u83b7\u53d6\u65b9\u6cd5"},"gdb \u7248\u672c\u83b7\u53d6\u65b9\u6cd5"),(0,a.kt)("p",null,"\u68c0\u67e5\u5f53\u524d\u7cfb\u7edf gdb \u7248\u672c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"gdb --version\nGNU gdb (GDB) 10.2\n")),(0,a.kt)("p",null,"\u68c0\u67e5 gdb \u6240\u4f7f\u7528\u7684 python \u7248\u672c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"$gdb\n(gdb) pi\n>>> import sys\n>>> print(sys.version)\n2.7.5 (default, Nov 11 2020, 14:14:29)\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-39)]\n")),(0,a.kt)("h3",{id:"lldb-\u7248\u672c"},"lldb \u7248\u672c"),(0,a.kt)("p",null,"\u68c0\u67e5\u5f53\u524d\u7cfb\u7edf lldb \u7248\u672c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"lldb -version\nlldb version 7.0.1\n")),(0,a.kt)("p",null,"\u68c0\u67e5 lldb \u6240\u4f7f\u7528\u7684 python \u7248\u672c"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$lldb\n(lldb) sc\nPython Interactive Interpreter. To exit, type 'quit()', 'exit()' or Ctrl-D.\n>>> import sys\n>>> print(sys.version)\n2.7.5 (default, Nov 11 2020, 14:14:29)\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-39)]\n>>>\n")),(0,a.kt)("h2",{id:"\u51c6\u5907\u8c03\u8bd5\u73af\u5883"},"\u51c6\u5907\u8c03\u8bd5\u73af\u5883"),(0,a.kt)("p",null,"\u5982\u679c\u4f60\u7684 Linux \u7cfb\u7edf\u8fd8\u4e0d\u6ee1\u8db3\u4ee5\u4e0a\u8981\u6c42\uff0c\u9700\u8981\u5148\u5b89\u88c5"),(0,a.kt)("h3",{id:"\u8bbe\u7f6e-gdb-\u8c03\u8bd5\u73af\u5883"},"\u8bbe\u7f6e gdb \u8c03\u8bd5\u73af\u5883"),(0,a.kt)("h2",{id:"\u4f7f\u7528\u9884\u7f16\u8bd1\u7684-andb-gdb"},"\u4f7f\u7528\u9884\u7f16\u8bd1\u7684 andb-gdb"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"andb-gdb")," \u662f\u591a\u5e73\u53f0\u9884\u7f16\u8bd1\u7684 gdb \u5de5\u5177\uff0c\u5f53\u524d\u7248\u672c\u4e3a ",(0,a.kt)("inlineCode",{parentName:"p"},"10.2"),"\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$git clone git@github.com:noslate-project/andb-gdb.git\n\n# \u540c\u6837\u9700\u8981\u628a gdb \u73af\u5883\u53d8\u91cf\u52a0\u5165\n$cd andb-gdb\n$source env.sh\nx86_64-Linux\n")),(0,a.kt)("h4",{id:"centos-7"},"CentOS 7"),(0,a.kt)("p",null,"CentOS 7 \u9ed8\u8ba4\u5b89\u88c5\u7684 gdb \u7248\u672c\u8f83\u65e7\u4e3a ",(0,a.kt)("inlineCode",{parentName:"p"},"7.4"),"\uff0c\n\u63a8\u8350\u4f7f\u7528 Software Collections (SCL) \u4e2d devtoolset-9 \u8f6f\u4ef6\u5305\u4e2d\u7684 gdb\uff0c\u5176\u7248\u672c\u4e3a ",(0,a.kt)("inlineCode",{parentName:"p"},"8.3-3.el7")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"# yum \u5b89\u88c5 devtoolset-9-gdb \u5305\n$yum install devtoolset-9-gdb\n\n# \u4f7f\u80fd devtoolset-9 \n$source /opt/rh/devtoolset-9/enable\n\n# \u7248\u672c\u4fe1\u606f\n$gdb --version\nGNU gdb (GDB) Red Hat Enterprise Linux 8.3-3.el7\n")),(0,a.kt)("h3",{id:"\u8bbe\u7f6e-lldb-\u8c03\u8bd5\u73af\u5883"},"\u8bbe\u7f6e lldb \u8c03\u8bd5\u73af\u5883"),(0,a.kt)("h4",{id:"centos-7-1"},"CentOS 7"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"# \u901a\u8fc7 yum \u5b89\u88c5 llvm-toolset-7.0-lldb \u5de5\u5177 \n$yum install llvm-toolset-7.0-lldb\n\n# \u4f7f\u80fd llvm-toolset-7\n$source /opt/rh/llvm-toolset-7.0/enable\n\n# \u7248\u672c\u4fe1\u606f\n$lldb --version\nlldb version 7.0.1\n")),(0,a.kt)("h2",{id:"\u914d\u7f6e\u5de5\u5177"},"\u914d\u7f6e\u5de5\u5177"),(0,a.kt)("p",null,"\u514b\u9686 ",(0,a.kt)("inlineCode",{parentName:"p"},"andb")," \u4ed3\u5e93"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$git clone git@github.com:noslate-project/andb.git\n")),(0,a.kt)("p",null,"\u5c06 ",(0,a.kt)("inlineCode",{parentName:"p"},"andb")," \u73af\u5883\u53d8\u91cf\u52a0\u5165"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$cd andb\n$source env.sh\nandb loader enabled, please use 'andb' command to start debugging.\n")),(0,a.kt)("p",null,"\u4f7f\u7528 ",(0,a.kt)("inlineCode",{parentName:"p"},"andb")," \u68c0\u67e5\u6240\u4f7f\u7528\u7684\u8def\u5f84"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$andb\n~/demo/andb/loader\n")),(0,a.kt)("h2",{id:"\u4e00\u822c\u6027\u8c03\u8bd5"},"\u4e00\u822c\u6027\u8c03\u8bd5"),(0,a.kt)("p",null,"\u91c7\u7528 ",(0,a.kt)("inlineCode",{parentName:"p"},"gdb")," \u8fdb\u884c\u8c03\u8bd5\uff0c\u5e76\u52a0\u8f7d core.pid \u6587\u4ef6\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$andb -l -c core.pid\n")),(0,a.kt)("p",null,"\u91c7\u7528 ",(0,a.kt)("inlineCode",{parentName:"p"},"lldb")," \u8fdb\u884c\u8c03\u8bd5\uff0c\u5e76\u52a0\u8f7d core.pid \u6587\u4ef6\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"$andb -g -c core.<pid>\n")),(0,a.kt)("h2",{id:"\u624b\u52a8\u8c03\u5f0f\u65b9\u6cd5"},"\u624b\u52a8\u8c03\u5f0f\u65b9\u6cd5"),(0,a.kt)("p",null,"\u5728\u8c03\u8bd5\u975e\u5b98\u65b9\u53d1\u884c\u7248\u7684 core \u6587\u4ef6\u65f6\uff0c\u4f1a\u9700\u8981\u91c7\u7528\u624b\u52a8\u8c03\u8bd5\u65b9\u6cd5\uff0c\u6b64\u65f6\u9700\u8981\u51c6\u5907\u5982\u4e0b\u6587\u4ef6\uff0c\u5e76\u653e\u7f6e\u5728\u76f8\u540c\u76ee\u5f55\u4e0b\uff0c"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"\u914d\u5957\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u5982 node\uff0c\u5fc5\u987b\u4e0e core.pid \u6587\u4ef6\u914d\u5957\u3002"),(0,a.kt)("li",{parentName:"ul"},"\u914d\u5957\u7684 node.typ \u6587\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u91c7\u7528\u548c\u5b98\u65b9 release \u76f8\u540c\u7248\u672c\u7684 node.typ \u6587\u4ef6\u3002"),(0,a.kt)("li",{parentName:"ul"},"core.pid \u6587\u4ef6")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"# \u4f7f\u7528 gdb \u8c03\u8bd5\n$andb -g node -c core.pid\n\n# \u6216 \u4f7f\u7528 lldb \u8c03\u8bd5\n$andb -l node -c core.pid\n")))}s.isMDXComponent=!0}}]);